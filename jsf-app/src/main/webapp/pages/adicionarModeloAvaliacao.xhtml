<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:tp = "http://java.sun.com/jsf/composite/menu"> 
	
	<h:head>
	    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1" http-equiv="X-UA-Conpatible" />
	    <h:outputStylesheet library="css" name="bootstrap.min.css" />     
	    <title>Avaliação</title>
	    <style type="text/css">
	        .tableUpdated {
	            width: 90% !important;
	            margin: 17px 58px 0 !important;
	        }
	        .btnSpace {
	            margin: 17px;
	        }     
	    </style>
	</h:head>
	<h:body> 
		<tp:menuSGAD />
		<h:form class="form-horizontal"> 
			
			<div class="form-group"> 
				 <div class="col-sm-4">
				 </div>
				  <div class="col-sm-4"> 
				  	 <h2>Criação de modelo de avaliação do desempenho comportamental dos funcionários</h2>
				  </div>
			</div>
			 <hr/>
			 <div class="form-group"> 
			 	 <h:outputLabel for="modelo" class="control-label col-sm-4">Nome do modelo:</h:outputLabel>
			 	 <div class="col-sm-4">
			 	 	<p:inputText value="#{modeloAvaliacaoBean.nomeModelo}">
			 	 	</p:inputText>
			 	 </div>
			 </div>
			 <div class="form-group">
			 	 <h:outputLabel for="competencias" class="control-label col-sm-4">Escolher competência:</h:outputLabel>
			 	 <div class="col-sm-4">
    				<p:selectOneMenu id="competencia" value="#{modeloAvaliacaoBean.competenciaId}">
			 	  	 	<f:selectItems value="#{competenciaListBean.competenciaList}" var="comp" itemLabel="#{comp.nome}" itemValue="#{comp.id}"/>
			 	  	 	<p:ajax listener="#{modeloAvaliacaoBean.onCompetenciaChange}" update="afirmativas"/>
			 	  	 </p:selectOneMenu>
			 	 </div>
			 </div>
			 <div class="form-group">
			 	<h:outputLabel for="afirmativas" class="control-label col-sm-4">Escolher afirmativa:</h:outputLabel>
			 	 <div class="col-sm-4">
			 	 	 <p:selectOneMenu id="afirmativas" value="#{modeloAvaliacaoBean.afirmativaId}" >
			 	  	 	<f:selectItems value="#{modeloAvaliacaoBean.afirmativasByCompetencia}" var="afirmativa" itemLabel="#{afirmativa.nome}" itemValue="#{afirmativa.id}"/>
			 	  	 </p:selectOneMenu>
			 	 </div>
			 </div>
			  <div class="form-group"> 
			  	 <div class="col-sm-4"></div>
			  	 <div class="col-sm-4">
			  	 	<h:commandButton id="addAfirmativa" value="Adicionar Afirmativa" action="#{modeloAvaliacaoBean.adicionarAfirmativa}" class="btn btn-primary" />
			  	 </div>
			  </div>
			   <div class="form-group">
			   		<h:outputLabel for="afirmativas" class="control-label col-sm-4">Afirmativas escolhidas:</h:outputLabel>
				   	<div class="col-sm-4">
				   		<p:dataTable id="afirmativaTable" value="#{modeloAvaliacaoBean.afirmativaEscolhidaList}" var="afirmativa" class="table table-striped table-hover table-bordered tableUpdated">
					 	 	<p:column>
					 	 		 <f:facet name="header">Competência</f:facet>
					 	 		 <h:outputText value="#{afirmativa.competencia.nome}" />
					 	 	</p:column>
					 	 	<p:column>
			                	<f:facet name="header">Nome</f:facet>
			                	<h:outputText value="#{afirmativa.nome}" />
			            	</p:column>
			            	<p:column>
			                	<f:facet name="header">Descrição</f:facet>
			                	<h:outputText value="#{afirmativa.descricao}" />
			            	</p:column>
			            	<p:column>
			            		<f:facet name="header">Remover</f:facet>
			            		<h:commandButton value="Remover" class="btn btn-danger" />
			            	</p:column>
			 	  		</p:dataTable>
				   	</div>
			   </div>
			   <div class="form-group"> 
			  	 <div class="col-sm-4"></div>
			  	 <div class="col-sm-4">
			  	 	 <div class="col-sm-2"> 
			  	 	 	<h:commandButton value="Concluir" class="btn btn-success btnWidth"  action="#{modeloAvaliacaoBean.concluir}"/>
			  	 	 </div>
			  	 	 <div class="col-sm-1">
			  	 	 </div>
			  	 	 <div class="col-sm-2"> 
			  	 	 </div>
			  	 </div>
			  </div>
		</h:form>
	</h:body>
</html>